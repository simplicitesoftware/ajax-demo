<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<link rel="shortcut icon" href="favicon.png"/>
<title>Ajax call on REST service example</title>
<style type="text/css">
body { font-family: Helvetica, Arial, sans-serif; }
</style>
<script type="text/javascript">
window.onload = function() {
        var username = "website";
        var password = "simplicite";
        var xhr = new XMLHttpRequest();
        xhr.withCredentials = true;
        xhr.open("POST", "https://demo40.simplicite.cloud/api/rest/", true);
        xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
        xhr.setRequestHeader("X-Requested-With", "XMLHttpRequest");
        xhr.setRequestHeader("X-Simplicite-Authorization", "Basic " + btoa(username + ":" + password));
        xhr.send();
        xhr.onerror = function(e) { console.log("Error: " + e.target.status); };
        xhr.onload = function() {
                var res = JSON.parse(xhr.responseText);
                document.getElementById("main").innerHTML = "<p>Hello " + res.grant.login + "!</p>";
        };
}
</script>
</head>
<body>
<div id="main"></div>
</body>
